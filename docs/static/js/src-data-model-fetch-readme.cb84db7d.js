(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./src/data-model/fetch/README.mdx":function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return r});var n=a("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),c=(a("./node_modules/react/index.js"),a("./node_modules/@mdx-js/react/dist/index.es.js")),o={},l="wrapper";function r(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(c.b)(l,Object.assign({},o,a,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h1",{id:"datamodelfetchgenerator"},"DataModelFetchGenerator"),Object(c.b)("h2",{id:"what"},"What"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"DataModelFetchGenerator")," \u662f\u4e00\u4e2a",Object(c.b)("inlineCode",{parentName:"p"},"class"),"\u7c7b\uff0c\u7528\u6765\u751f\u6210\u4e00\u4e2a\u6307\u5b9a",Object(c.b)("inlineCode",{parentName:"p"},"DataModel"),"\u8bf7\u6c42\u5668\uff0c\u8be5\u8bf7\u6c42\u5668\u4e3b\u8981\u63d0\u4f9b",Object(c.b)("inlineCode",{parentName:"p"},"fetch"),"\u548c",Object(c.b)("inlineCode",{parentName:"p"},"deepFetch"),"\u4e24\u4e2a\u51fd\u6570\uff0c\u4e5f\u63d0\u4f9b\u51fa\u4e00\u4e9b\u5176\u4ed6\u8f85\u52a9\u5c5e\u6027\u548c\u51fd\u6570\uff0c\u540e\u9762\u7684\u6587\u6863\u4f1a\u8bb2\u5230\u3002"),Object(c.b)("h2",{id:"why"},"Why"),Object(c.b)("p",null,"\u5728\u4e0d\u540c\u7684\u5e94\u7528\u7cfb\u7edf\u4e2d\u90fd\u53ef\u80fd\u4f1a\u9700\u8981\u8bf7\u6c42\u6307\u5b9a\u6570\u636e\u6a21\u578b\u7684\u6570\u636e\uff0c\u6709\u65f6\u8fd8\u4f1a\u9700\u8981\u8bf7\u6c42\u8be5\u6a21\u578b\u94fe\u4e0a\u7684\u6240\u6709\u5f15\u7528\u6a21\u578b\u3002\u4e3a\u4e86\u4fdd\u8bc1\u5904\u7406\u4e0a\u7684\u4e00\u81f4\u6027\u548c\u53ef\u7ef4\u62a4\u6027\uff0c\u6240\u4ee5\u7edf\u4e00\u63d0\u4f9b\u8be5\u5de5\u5177\u7c7b\u3002"),Object(c.b)("h2",{id:"when"},"When"),Object(c.b)("p",null,"\u5728\u4efb\u4f55\u5b50\u5e94\u7528\u4e2d\u5982\u679c\u9700\u8981\u8bf7\u6c42\u6307\u5b9a\u6570\u636e\u6a21\u578b\u7684\u6570\u636e\u90fd\u5efa\u8bae\u4f7f\u7528\u8be5\u5de5\u5177\u7c7b\u3002"),Object(c.b)("h2",{id:"how"},"How"),Object(c.b)("pre",null,Object(c.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),"import { DataModelFetchGenerator } from '@shuyun-ep-team/utils/es/data-model/fetch';\n\n\n/**\n * \u8bf7\u6c42\u6307\u5b9aDataModel\u7684\u8be6\u7ec6\u6570\u636e\n * @params fqn string \u6570\u636e\u6a21\u578b\u7684\u552f\u4e00\u6807\u8bc6\uff0c\u5c06\u4f1a\u88ab\u4f5c\u4e3a\u7f13\u5b58\u7684 key \u503c\n */\nconst fetchDataModel = (fqn) => fetch(`/metadata/v1/types/${fqn}`);\n\n\nconst dataModelFetchService = new DataModelFetchGenerator(fetchDataModel);\n\n\n// \u8bf7\u6c42\u5355\u4e2a\u6a21\u578b\ndataModelFetchService.fetch('data.mdm.User');\n\n// \u6df1\u5ea6\u9012\u5f52\u8bf7\u6c42\u6574\u4e2a\u6a21\u578b\u94fe\u4e0a\u7684\u6240\u6709\u6a21\u578b\ndataModelFetchService.deepFetch('data.mdm.User');\n")),Object(c.b)("h2",{id:"interfaces"},"Interfaces"),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},Object(c.b)("inlineCode",{parentName:"li"},"DataModelFetchGenerator#fetch")," \u8bf7\u6c42\u5355\u4e2a\u6570\u636e\u6a21\u578b\u7684\u6570\u636e"),Object(c.b)("li",{parentName:"ol"},Object(c.b)("inlineCode",{parentName:"li"},"DataModelFetchGenerator#deepFetch")," \u6df1\u5ea6\u9012\u5f52\u8bf7\u6c42\u6574\u4e2a\u6a21\u578b\u94fe\u4e0a\u7684\u6240\u6709\u6a21\u578b"),Object(c.b)("li",{parentName:"ol"},Object(c.b)("inlineCode",{parentName:"li"},"DataModelFetchGenerator#clearCache")," \u6e05\u9664\u6240\u6709",Object(c.b)("inlineCode",{parentName:"li"},"fqn"),"\u7684\u7f13\u5b58"),Object(c.b)("li",{parentName:"ol"},Object(c.b)("inlineCode",{parentName:"li"},"DataModelFetchGenerator#removeCache")," \u5220\u9664\u6307\u5b9a",Object(c.b)("inlineCode",{parentName:"li"},"fqn"),"\u503c\u7684\u7f13\u5b58"),Object(c.b)("li",{parentName:"ol"},Object(c.b)("inlineCode",{parentName:"li"},"DataModelFetchGenerator#hasCache")," \u5224\u65ad\u662f\u5426\u5305\u542b\u6307\u5b9a",Object(c.b)("inlineCode",{parentName:"li"},"fqn"),"\u503c\u7684\u7f13\u5b58"),Object(c.b)("li",{parentName:"ol"},Object(c.b)("inlineCode",{parentName:"li"},"DataModelFetchGenerator#models")," \u6240\u6709\u5df2\u8bf7\u6c42\u8fc7\u7684\u6570\u636e\u6a21\u578b\u7684\u96c6\u5408")))}r&&r===Object(r)&&Object.isExtensible(r)&&Object.defineProperty(r,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/data-model/fetch/README.mdx"}}),r.isMDXComponent=!0}}]);
//# sourceMappingURL=src-data-model-fetch-readme.8d8095f3f86f74758c2a.js.map