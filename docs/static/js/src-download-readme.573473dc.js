(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"./src/download/README.mdx":function(e,n,o){"use strict";o.r(n);var t=o("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),A=(o("./node_modules/react/index.js"),o("./node_modules/@mdx-js/react/dist/index.es.js")),i=o("./node_modules/docz/dist/index.esm.js"),a=o("./node_modules/@material-ui/core/esm/Button/Button.js");function d(e,n){var o=n.filename,t=n.type,A=void 0===t?"application/txt":t;return e.then(function(e){var n=new Blob([e],{type:A}),t=window.URL.createObjectURL(n),i=document.createElement("a");return i.setAttribute("href",t),i.setAttribute("download",o),i.setAttribute("style","display:none"),document.body.appendChild(i),i.click(),document.body.removeChild(i),e})}d&&d===Object(d)&&Object.isExtensible(d)&&Object.defineProperty(d,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"downloadWithPromise",filename:"src/download/index.ts"}}),o.d(n,"default",function(){return r});var s={},c="wrapper";function r(e){var n=e.components,o=Object(t.a)(e,["components"]);return Object(A.b)(c,Object.assign({},s,o,{components:n,mdxType:"MDXLayout"}),Object(A.b)("h1",{id:"downloadwithpromise"},"downloadWithPromise"),Object(A.b)("h2",{id:"what"},"What"),Object(A.b)("p",null,Object(A.b)("inlineCode",{parentName:"p"},"downloadWithPromise"),"\u51fd\u6570\u662f\u901a\u8fc7",Object(A.b)("inlineCode",{parentName:"p"},"ajax"),"\u8c03\u7528\u63a5\u53e3\u6765\u4e0b\u8f7d\u6587\u4ef6\u7684\u51fd\u6570\u3002"),Object(A.b)("h2",{id:"why"},"Why"),Object(A.b)("p",null,"\u4ee5\u524d\u6211\u4eec\u662f\u901a\u8fc7",Object(A.b)("inlineCode",{parentName:"p"},"a"),"\u6807\u7b7e\u6765\u5b9e\u73b0\u4e0b\u8f7d\uff0c\u4f46\u662f\u8fd9\u79cd\u65b9\u5f0f\u65e0\u6cd5\u5728",Object(A.b)("inlineCode",{parentName:"p"},"headers"),"\u4e2d\u8bbe\u7f6e",Object(A.b)("inlineCode",{parentName:"p"},"Token"),"\uff0c\u56e0\u6b64\u65e0\u6cd5\u9274\u6743\uff0c\u800c\u4e14\u53ea\u80fd\u4f7f\u7528",Object(A.b)("inlineCode",{parentName:"p"},"GET"),"\u8bf7\u6c42\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e24\u4e2a\u95ee\u9898\u6240\u4ee5\u63d0\u4f9b\u8be5\u51fd\u6570\u7528\u6765\u5904\u7406\u4e0b\u8f7d\u95ee\u9898\u3002"),Object(A.b)("h2",{id:"when"},"When"),Object(A.b)("p",null,"\u5728\u505a\u5bfc\u51fa\u6587\u4ef6\u65f6\u53ef\u4ee5\u4f7f\u7528\uff0c\u5177\u4f53\u8981\u770b\u573a\u666f\uff0c\u52ff\u6ee5\u7528\u3002"),Object(A.b)("h2",{id:"how"},"How"),Object(A.b)("pre",null,Object(A.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),"import { downloadWithPromise } from '@shuyun-ep-team/utils/es/download';\n\nfunction download(fetch: Promise<any>, filename) {\n  return downloadWithPromise(fetch, { filename });\n}\n")),Object(A.b)("h3",{id:"demo"},"Demo"),Object(A.b)(i.c,{__position:0,__code:'<Button\n  variant="outlined"\n  color="primary"\n  onClick={() => {\n    const fetchPromise = window\n      .fetch(\'/static/js/app.js\')\n      .then(res => res.text())\n    downloadWithPromise(fetchPromise, {\n      filename: `download-${Date.now()}.js`,\n    })\n  }}\n>\n  \u70b9\u51fb\u4e0b\u8f7d\n</Button>',__scope:{props:this?this.props:o,Playground:i.c,Button:a.a,downloadWithPromise:d},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtKZr3CCJzCNWV2gAASiWh-nic1QggAEukkQibmoXCIPYKCThGVAoEoDsAHVcWgmVqVQ9CyI9OABHIaRRl4_j0EkVRsHY_D2EDSUJJNTV2jBVBdBRY5Tiw5wCESLF2G4Tj1iiARnlQK52gABnYJMZiwdo92rGYOxYGcnIAFg89gADYPK89YwGAgAxb1oESJz-GcQ4EQdTAYKEfgliIahKDgXyEUi6topoZwICwy52AARkC7z5H0wypgAQTmKz2AjKDyBsKB0DDVCOSssQOujGR2BRCyYG4YBsLMya4HkLca2AbroD64IADINvGRJ5koZpVt6_ruBOuUwGQyUBlQdp2AAfg2NawwjQarkO9bUAa6spBkKs3zMGF1WOGAwDCKApmeoaRq-1rl2rBNNIIHAYsyFIrwIJaa1rFjiJXTHWFcGiaD4EB9igNBsn4XGayoPiBGJ_t-QJxJKbhzG9lQewyZ2aaIe4YbgCpzGmsNUdupEyIxOsnEMFGQW2ZwMBRbwR9JBRaJYkkTRJFmGZ_zgV85cxnAJjoCMujsPmJ3gY3sAIZ63zZtnuIUwThNEuAYAjRWCDF92YCWAXWcdixIFgVBvSq4pnb4jtzQAEmALUshwVBRme-Q9eKbzg5reQHeD-RPsdjG2cATodAG_FQBoOUAX3iqakbHqBLqQEaRlG0aWqQYd-swvxAaTZOjxTlPDXACC0ChgP0Bg8MBqCGi1eSY_QHUZm7VA7DQ0j3WHtQcHQP19IB-1zoMtfjJ4pehImcWiGpCNXHUVwsCuG_qUYJExCWShV6u-5GgXi-ikV5rzgINQOFhhbgJrKHOgEds41nMvMdq7QdZc3VtQSQBAsAvnWGhay38QEqn9NWLoBA-jmAfk_Y2mxUARjNvAQalsoEQOoEZDwfEPDtWdGMa8HCIwAG1zYAF0A47SQXnIhQtWFTD6FAdq0tuI4AAKoigADIfFNLQHUHh1BbAICo1REZ2GUA8B-FcwtXDtQPKENGGjxS0AvDANGj5XCvkkTWVwOAPYEGajcfoHhwie3aHgLoYAvK5AEFAMxrNPHeN8aiCAATaCPkHh2cJMDw5HmiZjWJo54n-MCY-CavoliYVsGSeCiBU7OjcSuaxtivDoESDgHWdB0D2B6g-Vw2SPEfC5tsZ67iLD1OPI05pXRcqsBgB0ta98ekWFIeQq2cB3ESLMJ9Xu_c5KAI7DvbAe9jbjyAnoUCIAj5jj0AIEGaV56LyAT_VhNkSrQFgUeK4KJpwpHcYgmAt13kJJnEQz6_0sDqUwOQOCXRDQXTPqk9AV88Cvw9vfR-z9MoSw9u_VAiRP57AeevK4tydnL3xaAl-fssU4qIb3Qq2xXBpD1tQQCugQIGDAlA_gmTGRIHYPwH4xZqgZHND-Mk3L4H8CmQIfI1B-BXH4M5HACrnLZXWPwco5B-j4tlbykAzVxp4VgNCLA3pRVAzJJQRIuY8gFCtmac0_K_ilhVdWfgUQ0Dav4CpDQcBnUWDVTAeY4YDIQHgNq5hOrsIepAAAPWqjgAATIq31NZ-CUSyDRKAdEGJUC6FG6NgUE04Gqsmv1ghNR5uqqFHAAAOHAoUS06tNJKS0kQK1VtrfWkAuD1mbMdbgXQkAUiMtQMyyepyBYgFoD6LIsq-WaJgOaJtFodb8HkAoQuQA",mdxType:"Playground"},Object(A.b)(a.a,{variant:"outlined",color:"primary",onClick:function(){d(window.fetch("/static/js/app.js").then(function(e){return e.text()}),{filename:"download-".concat(Date.now(),".js")})},mdxType:"Button"},"\u70b9\u51fb\u4e0b\u8f7d")))}r&&r===Object(r)&&Object.isExtensible(r)&&Object.defineProperty(r,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/download/README.mdx"}}),r.isMDXComponent=!0}}]);
//# sourceMappingURL=src-download-readme.db1e0828fe516bb184ce.js.map